{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchQueueStatus}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const QueueStatus=()=>{const[queueStatus,setQueueStatus]=useState({nextUser:null});const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const getQueueStatus=async()=>{try{setIsLoading(true);setError(null);const status=await fetchQueueStatus();setQueueStatus(status);}catch(err){setError('Failed to fetch queue status. Please try again later.');console.error('Error fetching queue status:',err);}finally{setIsLoading(false);}};getQueueStatus();// Refresh queue status every 30 seconds\nconst interval=setInterval(getQueueStatus,30000);return()=>clearInterval(interval);},[]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card fade-in\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'var(--text-secondary)'},children:\"Loading queue status...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u26A0\\uFE0F Error\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>window.location.reload(),children:\"Retry\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"queue-status\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFAE PrismaX AI Queue Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-info\",children:queueStatus.nextUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"next-user\",children:\"Next user in queue:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-position\",children:queueStatus.nextUser}),/*#__PURE__*/_jsx(\"div\",{className:\"status status-active\",children:\"Queue Active\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"next-user\",children:\"Queue Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"queue-position\",children:\"Empty\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status status-inactive\",children:\"No users in queue\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:'24px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'var(--text-secondary)'},children:\"\\uD83D\\uDD04 Status updates automatically every 30 seconds\"}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center',color:'var(--text-muted)',fontSize:'14px'},children:[\"Last updated: \",new Date().toLocaleTimeString()]})]})]})})});};export default QueueStatus;","map":{"version":3,"names":["React","useEffect","useState","fetchQueueStatus","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QueueStatus","queueStatus","setQueueStatus","nextUser","isLoading","setIsLoading","error","setError","getQueueStatus","status","err","console","interval","setInterval","clearInterval","className","children","style","textAlign","color","onClick","window","location","reload","marginTop","fontSize","Date","toLocaleTimeString"],"sources":["/Users/3plev.eth/Documents/prismaxrem/reminder-app/client/src/components/QueueStatus.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { fetchQueueStatus } from '../services/api';\nimport { QueueStatus as QueueStatusType } from '../types';\n\nconst QueueStatus: React.FC = () => {\n    const [queueStatus, setQueueStatus] = useState<QueueStatusType>({ nextUser: null });\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    useEffect(() => {\n        const getQueueStatus = async () => {\n            try {\n                setIsLoading(true);\n                setError(null);\n                const status = await fetchQueueStatus();\n                setQueueStatus(status);\n            } catch (err: any) {\n                setError('Failed to fetch queue status. Please try again later.');\n                console.error('Error fetching queue status:', err);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        getQueueStatus();\n        \n        // Refresh queue status every 30 seconds\n        const interval = setInterval(getQueueStatus, 30000);\n        return () => clearInterval(interval);\n    }, []);\n\n    if (isLoading) {\n        return (\n            <div className=\"container\">\n                <div className=\"card fade-in\">\n                    <div className=\"loading\">\n                        <div className=\"spinner\"></div>\n                    </div>\n                    <p style={{ textAlign: 'center', color: 'var(--text-secondary)' }}>\n                        Loading queue status...\n                    </p>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"container\">\n                <div className=\"card fade-in\">\n                    <div className=\"error-message\">\n                        <h2>‚ö†Ô∏è Error</h2>\n                        <p>{error}</p>\n                        <button \n                            className=\"btn btn-primary\"\n                            onClick={() => window.location.reload()}\n                        >\n                            Retry\n                        </button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"card fade-in\">\n                <div className=\"queue-status\">\n                    <h1>üéÆ PrismaX AI Queue Status</h1>\n                    \n                    <div className=\"queue-info\">\n                        {queueStatus.nextUser ? (\n                            <>\n                                <div className=\"next-user\">\n                                    Next user in queue:\n                                </div>\n                                <div className=\"queue-position\">\n                                    {queueStatus.nextUser}\n                                </div>\n                                <div className=\"status status-active\">\n                                    Queue Active\n                                </div>\n                            </>\n                        ) : (\n                            <>\n                                <div className=\"next-user\">\n                                    Queue Status\n                                </div>\n                                <div className=\"queue-position\">\n                                    Empty\n                                </div>\n                                <div className=\"status status-inactive\">\n                                    No users in queue\n                                </div>\n                            </>\n                        )}\n                    </div>\n                    \n                    <div className=\"card\" style={{ marginTop: '24px' }}>\n                        <p style={{ textAlign: 'center', color: 'var(--text-secondary)' }}>\n                            üîÑ Status updates automatically every 30 seconds\n                        </p>\n                        <p style={{ textAlign: 'center', color: 'var(--text-muted)', fontSize: '14px' }}>\n                            Last updated: {new Date().toLocaleTimeString()}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default QueueStatus;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}